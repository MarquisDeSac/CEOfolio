---
---

<div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden z-[-1] bg-[#050505] overflow-hidden">
  <div class="absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_1px,transparent_1px),linear-gradient(90deg,rgba(18,16,16,0)_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_60%_60%_at_50%_0%,#000_70%,transparent_100%)]"></div>
  
  <canvas id="holo-mesh-canvas" class="w-full h-full opacity-40"></canvas>
</div>

<script>
  function initHoloMesh() {
    const canvas = document.getElementById('holo-mesh-canvas') as HTMLCanvasElement
    if (!canvas) return

    const ctx = canvas.getContext('2d')
    if (!ctx) return

    let width = window.innerWidth
    let height = window.innerHeight

    canvas.width = width
    canvas.height = height

    let tick = 0

    function draw() {
      ctx.clearRect(0, 0, width, height)
      
      tick += 0.05

      const cols = 20
      const rows = 10
      const cellW = width / cols
      const cellH = height / rows

      ctx.strokeStyle = '#00f3ff'
      ctx.lineWidth = 1

      for (let r = 0; r <= rows; r++) {
         ctx.beginPath()
         for (let c = 0; c <= cols; c++) {
             const x = c * cellW
             // Wave effect
             const yOffset = Math.sin(c * 0.5 + tick) * 50 * Math.sin(r * 0.5)
             const y = r * cellH + yOffset
             
             if (c === 0) ctx.moveTo(x, y)
             else ctx.lineTo(x, y)
         }
         ctx.stroke()
      }

      ctx.strokeStyle = '#ff007f'
      for (let c = 0; c <= cols; c++) {
         ctx.beginPath()
         for (let r = 0; r <= rows; r++) {
             const x = c * cellW
             const yOffset = Math.sin(c * 0.5 + tick) * 50 * Math.sin(r * 0.5)
             const y = r * cellH + yOffset
             
             if (r === 0) ctx.moveTo(x, y)
             else ctx.lineTo(x, y)
         }
         ctx.stroke()
      }

      requestAnimationFrame(draw)
    }
    
    window.addEventListener('resize', () => {
        width = window.innerWidth
        height = window.innerHeight
        canvas.width = width
        canvas.height = height
    })

    draw()
  }

  document.addEventListener('astro:page-load', initHoloMesh)
  initHoloMesh()
</script>
