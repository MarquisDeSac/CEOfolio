---
import StandardLayout from '~/layouts/StandardLayout.astro'
import BaseLayout from '~/layouts/BaseLayout.astro'
import { parcours } from '~/data/parcours'

const title = "Education"
const subtitle = "Academic Background & Personal Growth"
---

<BaseLayout
  title={title}
  description={subtitle}
  bgType="constellation"
  ogImage={false}
>
  <StandardLayout
    title={title}
    subtitle={subtitle}
    isCentered={true}
  >
    <div slot="article" class="max-w-3xl mx-auto py-10 relative">
      <!-- Vertical Line -->
      <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-gray-300 dark:via-gray-700 to-transparent transform -translate-x-1/2"></div>

      <div class="flex flex-col gap-12">
        {parcours.en.map((item, index) => (
          <div class={`relative flex items-center md:justify-between group ${index % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'}`}>
            
            <!-- Spacer for Desktop Alignment -->
            <div class="hidden md:block w-5/12"></div>

            <!-- Center Dot -->
            <div class="absolute left-4 md:left-1/2 transform -translate-x-1/2 z-10">
              <div class={`w-8 h-8 rounded-full border-4 border-${item.color} bg-[#050505] shadow-[0_0_15px_rgba(var(--c-${item.color}),0.5)] flex items-center justify-center`}>
                <div class={`${item.icon} text-${item.color} text-xs`}></div>
              </div>
            </div>

            <!-- Content Card -->
            <div class="w-full pl-12 md:pl-0 md:w-5/12">
              <div class={`p-6 rounded-xl bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 hover:border-${item.color} hover:bg-${item.color}/5 transition-all duration-300 relative overflow-hidden group-hover:shadow-[0_0_20px_rgba(var(--c-${item.color}),0.15)]`}>
                
                <!-- Date Badge -->
                <div class={`inline-block px-3 py-1 mb-3 text-xs font-bold rounded-full border border-${item.color}/30 bg-${item.color}/10 text-${item.color}`}>
                  {item.year}
                </div>

                <h3 class="text-xl font-bold mb-1 u-text-main leading-tight">{item.title}</h3>
                {item.subtitle && <p class="text-sm font-bold opacity-70 mb-2 u-text-main">{item.subtitle}</p>}
                
                <div class="text-sm opacity-60 font-mono mb-4 flex items-center gap-1 u-text-main">
                  <span class="i-ri-map-pin-line"></span> {item.place}
                </div>
                
                <p class="text-sm leading-relaxed u-text-muted mb-4">
                  {item.desc}
                </p>

                <!-- Skills -->
                {item.skills && item.skills.length > 0 && (
                  <div class="flex flex-wrap gap-2 mt-4 pt-4 border-t border-black/5 dark:border-white/5">
                    {item.skills.map(skill => (
                      <span class={`text-[10px] px-2 py-0.5 rounded border border-${item.color}/20 bg-${item.color}/5 text-${item.color}`}>
                        {skill}
                      </span>
                    ))}
                  </div>
                )}

                <!-- Glow Effect -->
                <div class={`absolute -right-4 -bottom-4 w-24 h-24 bg-${item.color} opacity-10 blur-2xl rounded-full group-hover:opacity-20 transition-opacity`}></div>
              </div>
            </div>

          </div>
        ))}
      </div>
    
    </div>
  </StandardLayout>
</BaseLayout>

<style>
  /* Fix vertical line alignment on mobile */
  @media (max-width: 768px) {
    .absolute.left-4 {
      left: 2rem; /* Align with card padding */
    }
  }
</style>
