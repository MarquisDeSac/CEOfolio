---
import StandardLayout from '~/layouts/StandardLayout.astro'
import BaseLayout from '~/layouts/BaseLayout.astro'
import { experiences } from '~/data/experiences'

const title = "Exp√©riences"
const subtitle = "Parcours Professionnel & Missions"
---

<BaseLayout
  title={title}
  description={subtitle}
  bgType="dot"
  ogImage={false}
>
  <StandardLayout
    title={title}
    subtitle={subtitle}
    isCentered={true}
    articleClass="max-w-4xl!"
  >
    <div slot="article" class="max-w-none relative py-10">
      
      <div class="flex flex-col gap-16">
        {experiences.fr.map((item, index) => (
          <div class="relative group">
            <!-- Connector Line (except for last) -->
            {index !== experiences.fr.length - 1 && (
               <div class="absolute left-8 top-16 bottom-[-4rem] w-0.5 bg-gradient-to-b from-gray-300 dark:from-gray-700 to-transparent"></div>
            )}

            <div class="flex gap-6 md:gap-10">
              <!-- Icon Column -->
              <div class="flex-shrink-0 flex flex-col items-center">
                <div class={`w-16 h-16 rounded-2xl border-2 border-${item.color} bg-[#050505] shadow-[0_0_20px_rgba(var(--c-${item.color}),0.4)] flex items-center justify-center relative z-10`}>
                  <div class={`${item.icon} text-${item.color} text-3xl`}></div>
                </div>
              </div>

              <!-- Content Column -->
              <div class="flex-grow pt-2">
                <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                  <h3 class="text-2xl font-bold u-text-main leading-tight group-hover:text-neon-blue transition-colors duration-300">{item.company}</h3>
                  <span class={`inline-block px-3 py-1 text-xs font-bold rounded-full border border-${item.color}/30 bg-${item.color}/10 text-${item.color} mt-2 md:mt-0 w-fit`}>
                    {item.date}
                  </span>
                </div>
                
                <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-6 mb-6 text-sm opacity-70 u-text-main">
                  <span class="font-bold text-lg text-neon-pink">{item.role}</span>
                  <div class="hidden md:block w-1 h-1 rounded-full bg-gray-500"></div>
                  <span class="flex items-center gap-1"><span class="i-ri-map-pin-line"></span> {item.location}</span>
                  <div class="hidden md:block w-1 h-1 rounded-full bg-gray-500"></div>
                  <span class="flex items-center gap-1"><span class="i-ri-time-line"></span> {item.duration}</span>
                </div>

                <div class="p-6 rounded-xl bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 hover:border-${item.color}/30 transition-all duration-300">
                  <ul class="space-y-3 mb-6">
                    {item.desc.map(point => (
                      <li class="flex items-start gap-3">
                        <span class={`i-ri-arrow-right-s-line text-${item.color} mt-1 flex-shrink-0`}></span>
                        <span class="text-sm leading-relaxed u-text-muted">{point}</span>
                      </li>
                    ))}
                  </ul>

                  <div class="flex flex-wrap gap-2 pt-4 border-t border-black/5 dark:border-white/5">
                    {item.skills.map(skill => (
                      <span class="px-2 py-1 text-xs rounded border border-black/10 dark:border-white/10 bg-white dark:bg-black/20 u-text-muted hover:border-black/30 dark:hover:border-white/30 transition-colors">
                        {skill}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

    </div>
  </StandardLayout>
</BaseLayout>
